<!DOCTYPE html>
<html>
<head>
  <title>grid-helper.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../doc-style.css" />
  <script src="../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../", thisFile = "app/code/public_html/js/grid-helper.js", defaultSidebar = true;
  </script>
  <script src="../../../../doc-script.js"></script>
  <script src="../../../../fileSearch.js"></script>
  <link rel="stylesheet" href="../../../../fileSearch.css" />
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>grid-helper.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">__GRID_HELPER__</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">_perColumnChkCount</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">_colClass</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">_maxCols</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">_perColWidth</span> <span class="o">=</span> <span class="mi">170</span><span class="p">;</span>
  
  <span class="kd">var</span> <span class="nx">columnsrenderer</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;&lt;div style=&quot;margin-top:5px&quot;&gt;&#39;</span> <span class="o">+</span> <span class="nx">value</span> <span class="o">+</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">;</span>
  <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">processColumns</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">gridColumns</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">gridColumns</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">gridColumns</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">&#39;renderer&#39;</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">gridColumns</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">renderer</span> <span class="o">=</span> <span class="nx">__GRID_HELPER__</span><span class="p">.</span><span class="nx">columnsrenderer</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">gridColumns</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">&#39;menu&#39;</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">gridColumns</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">menu</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">gridColumns</span><span class="p">;</span>
  <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">generateColumnsDDL</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">columns</span><span class="p">,</span> <span class="nx">destContainer</span><span class="p">,</span> <span class="nx">$gridObj</span><span class="p">)</span> <span class="p">{</span>    
    <span class="kd">var</span> <span class="nx">columnCount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">colClass</span> <span class="o">=</span> <span class="nx">_colClass</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">columns</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="nx">_perColumnChkCount</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">columnCount</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
      <span class="nx">colClass</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nx">getContainer</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">currColumn</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">finalArray</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">columnCount</span><span class="p">;</span> <span class="nx">i</span> <span class="o">!=</span> <span class="nx">len</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">finalArray</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;&lt;div class=&quot;span&#39;</span> <span class="o">+</span> <span class="nx">colClass</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;&lt;ul class=&quot;dropdown-menu dropdown-menu-form&quot;&gt;&#39;</span>
      <span class="p">];</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">columns</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">!=</span> <span class="nx">len</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">columns</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">hidden</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">continue</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nx">currColumn</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">%</span> <span class="nx">columnCount</span><span class="p">;</span>
      <span class="nx">finalArray</span><span class="p">[</span><span class="nx">currColumn</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;&lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; checked&#39;</span> <span class="o">+</span>
        <span class="s1">&#39; data-colname=&quot;&#39;</span> <span class="o">+</span> <span class="nx">columns</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">dataField</span> <span class="o">+</span> <span class="s1">&#39;&quot; id=&quot;chkGrid&#39;</span> <span class="o">+</span> <span class="nx">columns</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">dataField</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;&#39;</span> <span class="o">+</span> <span class="nx">columns</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">text</span> <span class="o">+</span>
        <span class="s1">&#39;&lt;/label&gt;&lt;/li&gt;&#39;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">finalHTMLArr</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">columnCount</span><span class="p">;</span> <span class="nx">i</span> <span class="o">!=</span> <span class="nx">len</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">finalArray</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;&lt;/ul&gt;&lt;/div&gt;&#39;</span><span class="p">);</span>
      <span class="nx">finalHTMLArr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">finalArray</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)];</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">finalHtml</span> <span class="o">=</span> <span class="nx">finalHTMLArr</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="nx">ddlEventAndHtmlBinding</span><span class="p">(</span><span class="nx">container</span><span class="p">,</span> <span class="nx">finalHtml</span><span class="p">,</span> <span class="nx">columnCount</span><span class="p">,</span> <span class="nx">destContainer</span><span class="p">,</span> <span class="nx">$gridObj</span><span class="p">);</span>    
  <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">fixColumns</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$ddlContainer</span><span class="p">,</span> <span class="nx">$gridObj</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">gridCols</span> <span class="o">=</span> <span class="nx">$gridObj</span><span class="p">.</span><span class="nx">jqxGrid</span><span class="p">(</span><span class="s1">&#39;columns&#39;</span><span class="p">).</span><span class="nx">records</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">gridCols</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">$ddlContainer</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;#chkGrid&#39;</span> <span class="o">+</span> <span class="nx">gridCols</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">datafield</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">elem</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">gridCols</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">hidden</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">elem</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s1">&#39;checked&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">elem</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s1">&#39;checked&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">addColChkHandler</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$gridObj</span><span class="p">,</span> <span class="nx">$ddlContainer</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$ddlContainer</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.dropdown-menu&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
    <span class="p">});</span>
    <span class="nx">$ddlContainer</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.dropdown-menu-form input[type=&quot;checkbox&quot;]&#39;</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span>
      <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">$self</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">colToShow</span> <span class="o">=</span> <span class="nx">$self</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;colname&#39;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">colToShow</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">$gridObj</span><span class="p">.</span><span class="nx">jqxGrid</span><span class="p">(</span><span class="s1">&#39;beginupdate&#39;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">$self</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s1">&#39;:checked&#39;</span><span class="p">))</span> <span class="p">{</span>
          <span class="nx">$gridObj</span><span class="p">.</span><span class="nx">jqxGrid</span><span class="p">(</span><span class="s1">&#39;showcolumn&#39;</span><span class="p">,</span> <span class="nx">colToShow</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">$gridObj</span><span class="p">.</span><span class="nx">jqxGrid</span><span class="p">(</span><span class="s1">&#39;hidecolumn&#39;</span><span class="p">,</span> <span class="nx">colToShow</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">$gridObj</span><span class="p">.</span><span class="nx">jqxGrid</span><span class="p">(</span><span class="s1">&#39;endupdate&#39;</span><span class="p">);</span>
      <span class="p">});</span>
  <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">clearGrid</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$jqxGrid</span><span class="p">,</span> <span class="nx">ddlContainer</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="nx">ddlContainer</span><span class="p">).</span><span class="nx">empty</span><span class="p">();</span>
    <span class="nx">$jqxGrid</span><span class="p">.</span><span class="nx">jqxGrid</span><span class="p">(</span><span class="s1">&#39;destroy&#39;</span><span class="p">);</span>
  <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">generateColumnsDDLBasedOnInfo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">columns</span><span class="p">,</span> <span class="nx">destContainer</span><span class="p">,</span> <span class="nx">$gridObj</span><span class="p">,</span> <span class="nx">colInfo</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">totalCols</span> <span class="o">=</span> <span class="nx">_colClass</span><span class="p">;</span>    
    <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nx">getContainer</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">lists</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">columns</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">colType</span> <span class="o">=</span> <span class="nx">columns</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">type</span><span class="p">;</span>
      <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">colInfo</span><span class="p">[</span><span class="nx">colType</span><span class="p">])</span> <span class="p">{</span>
        <span class="k">continue</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="kd">var</span> <span class="nx">colNum</span> <span class="o">=</span> <span class="nx">colInfo</span><span class="p">[</span><span class="nx">colType</span><span class="p">].</span><span class="nx">column</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">colNum</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">colNum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">lists</span><span class="p">[</span><span class="nx">colNum</span><span class="p">]</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">lists</span><span class="p">[</span><span class="nx">colNum</span><span class="p">]</span> <span class="o">=</span> <span class="p">{};</span>
      <span class="p">}</span>
      <span class="kd">var</span> <span class="nx">colObj</span> <span class="o">=</span> <span class="nx">lists</span><span class="p">[</span><span class="nx">colNum</span><span class="p">];</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">colObj</span><span class="p">[</span><span class="nx">colType</span><span class="p">]</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">colObj</span><span class="p">[</span><span class="nx">colType</span><span class="p">]</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="p">}</span>
      <span class="nx">colObj</span><span class="p">[</span><span class="nx">colType</span><span class="p">].</span><span class="nx">push</span><span class="p">({</span>
        <span class="nx">dataField</span> <span class="o">:</span> <span class="nx">columns</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">dataField</span><span class="p">,</span>
        <span class="nx">text</span> <span class="o">:</span> <span class="nx">columns</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">text</span>        
      <span class="p">});</span>
    <span class="p">}</span>
    
    <span class="kd">var</span> <span class="nx">listsHtml</span> <span class="o">=</span> <span class="p">[];</span>  
    <span class="kd">var</span> <span class="nx">columnCount</span> <span class="o">=</span> <span class="nx">lists</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">columnCount</span> <span class="o">&gt;</span> <span class="nx">_maxCols</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">columnCount</span> <span class="o">=</span> <span class="nx">_maxCols</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">colClass</span> <span class="o">=</span> <span class="nx">totalCols</span> <span class="o">/</span> <span class="nx">columnCount</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">columnCount</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">listsHtml</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span>
        <span class="nx">listsHtml</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[];</span>
      <span class="p">}</span>
      <span class="kd">var</span> <span class="nx">colHTML</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">currArr</span> <span class="o">=</span> <span class="nx">lists</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
      <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">colGroupNames</span> <span class="k">in</span> <span class="nx">currArr</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">colHTML</span> <span class="o">=</span> <span class="s1">&#39;&lt;span class=&quot;type-title&quot;&gt;&#39;</span> <span class="o">+</span> <span class="nx">colGroupNames</span> 
          <span class="o">+</span> <span class="s1">&#39;&lt;/span&gt;&lt;ul class=&quot;dropdown-menu dropdown-menu-form&quot;&gt;&#39;</span><span class="p">;</span>
        <span class="nx">currColList</span> <span class="o">=</span> <span class="nx">currArr</span><span class="p">[</span><span class="nx">colGroupNames</span><span class="p">];</span> 
        <span class="nx">currColList</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">sortColNames</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len2</span> <span class="o">=</span> <span class="nx">currColList</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">len2</span><span class="p">;</span> <span class="o">++</span><span class="nx">j</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">colHTML</span> <span class="o">+=</span> <span class="s1">&#39;&lt;li&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; checked&#39;</span> <span class="o">+</span>
          <span class="s1">&#39; data-colname=&quot;&#39;</span> <span class="o">+</span> <span class="nx">currColList</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">dataField</span> <span class="o">+</span> <span class="s1">&#39;&quot; id=&quot;chkGrid&#39;</span> <span class="o">+</span> <span class="nx">currColList</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">dataField</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;&#39;</span> 
          <span class="o">+</span> <span class="nx">currColList</span><span class="p">[</span><span class="nx">j</span><span class="p">].</span><span class="nx">text</span> <span class="o">+</span> <span class="s1">&#39;&lt;/label&gt;&lt;/li&gt;&#39;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">colHTML</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/ul&gt;&lt;div class=&quot;clear-fix&quot;&gt;&lt;/div&gt;&#39;</span><span class="p">;</span>
        <span class="nx">listsHtml</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">colHTML</span><span class="p">);</span>
      <span class="p">}</span>      
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">finalHtml</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">columnCount</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">finalHtml</span> <span class="o">+=</span> <span class="s1">&#39;&lt;div class=&quot;col-sm-&#39;</span> <span class="o">+</span> <span class="nx">colClass</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;&#39;</span> 
        <span class="o">+</span> <span class="nx">listsHtml</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&lt;/div&gt;&quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">ddlEventAndHtmlBinding</span><span class="p">(</span><span class="nx">container</span><span class="p">,</span> <span class="nx">finalHtml</span><span class="p">,</span> <span class="nx">columnCount</span><span class="p">,</span> <span class="nx">destContainer</span><span class="p">,</span> <span class="nx">$gridObj</span><span class="p">);</span>    
  <span class="p">};</span>
  
  <span class="kd">var</span> <span class="nx">getContainer</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span>
            <span class="s1">&#39;&lt;div class=&quot;dropdown clearfix pull-right&quot;&gt;&#39;</span> <span class="o">+</span>
            <span class="s1">&#39;&lt;/div&gt;&lt;/div&gt;&#39;</span> <span class="o">+</span>
            <span class="s1">&#39;&lt;/div&gt;&#39;</span>
          <span class="p">);</span>
    <span class="kd">var</span> <span class="nx">colButton</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span>
      <span class="s1">&#39;&lt;button type=&quot;button&quot; data-toggle=&quot;dropdown&quot; class=&quot;btn btn-sm btn-default&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-plus&quot;&gt;&lt;/span&gt;&lt;/button&gt;&#39;</span>
    <span class="p">);</span>
    <span class="kd">var</span> <span class="nx">dropdownContainer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span>
      <span class="s1">&#39;&lt;div class=&quot;dropdown-menu multi-column&quot;&gt;&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;&lt;div class=&quot;container-fluid&quot;&gt;&lt;h5&gt;Select Columns&lt;/h5&gt;&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;&lt;h6&gt;Check to add, drag columns to reorder.&lt;/h6&gt;&#39;</span> <span class="o">+</span>
        <span class="s1">&#39;&lt;div class=&quot;row-fluid&quot;&gt;&#39;</span> <span class="o">+</span> 
      <span class="s1">&#39;&lt;/div&lt;/div&gt;&lt;/div&gt;&#39;</span>
    <span class="p">);</span>
    <span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">colButton</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">dropdownContainer</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">container</span><span class="p">;</span>
  <span class="p">};</span>
  
  <span class="kd">function</span> <span class="nx">sortColNames</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">text</span> <span class="o">&lt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">text</span> <span class="o">&gt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>      
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">};</span>
  
  <span class="kd">function</span> <span class="nx">ddlEventAndHtmlBinding</span><span class="p">(</span><span class="nx">container</span><span class="p">,</span> <span class="nx">finalHtml</span><span class="p">,</span> <span class="nx">columnCount</span><span class="p">,</span> <span class="nx">destContainer</span><span class="p">,</span> <span class="nx">$gridObj</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">container</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.row-fluid&#39;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">finalHtml</span><span class="p">);</span>
    

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2">&#182;</a>
</div>
<p>set the width</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nx">container</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.multi-column&#39;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">_perColWidth</span> <span class="o">*</span> <span class="nx">columnCount</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">$ddlContainer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">destContainer</span><span class="p">);</span>
    <span class="nx">$ddlContainer</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">container</span><span class="p">);</span>    
    <span class="nx">__GRID_HELPER__</span><span class="p">.</span><span class="nx">addColChkHandler</span><span class="p">(</span><span class="nx">$gridObj</span><span class="p">,</span> <span class="nx">$ddlContainer</span><span class="p">);</span>
  <span class="p">}</span>
  
  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">columnsrenderer</span> <span class="o">:</span> <span class="nx">columnsrenderer</span><span class="p">,</span>
    <span class="nx">processColumns</span> <span class="o">:</span> <span class="nx">processColumns</span><span class="p">,</span>
    <span class="nx">generateColumnsDDL</span> <span class="o">:</span> <span class="nx">generateColumnsDDL</span><span class="p">,</span>
    <span class="nx">fixColumns</span> <span class="o">:</span> <span class="nx">fixColumns</span><span class="p">,</span>
    <span class="nx">addColChkHandler</span> <span class="o">:</span> <span class="nx">addColChkHandler</span><span class="p">,</span>
    <span class="nx">clearGrid</span> <span class="o">:</span> <span class="nx">clearGrid</span><span class="p">,</span>
    <span class="nx">generateColumnsDDLBasedOnInfo</span> <span class="o">:</span> <span class="nx">generateColumnsDDLBasedOnInfo</span><span class="p">,</span>
    <span class="nx">generateColumnsDDL</span> <span class="o">:</span> <span class="nx">generateColumnsDDL</span>
  <span class="p">};</span>
<span class="p">}();</span>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
